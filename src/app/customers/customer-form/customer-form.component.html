<div class="container">
  <form class="form" [formGroup]="form" (ngSubmit)="submit(); openSnackBar()">
    <mat-card class="card">
      <mat-card-header>
        <mat-card-title>
          <h1>{{ pageTitle | uppercase }}</h1>
        </mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <table class="full-width">
          <tr>
            <td>
              <mat-form-field class="full-width" appearance="fill">
                <mat-label>First name</mat-label>
                <input
                  matInput
                  formControlName="firstName"
                  [errorStateMatcher]="matcher"
                />
                <mat-error
                  *ngIf="
                    form.get('firstName')?.hasError('minlength') &&
                    !form.get('firstName')?.hasError('required')
                  "
                  >Min length is 2 symbols.
                </mat-error>
                <mat-error *ngIf="form.get('firstName')?.hasError('required')">
                  Field is required
                </mat-error>
              </mat-form-field>
            </td>
            <td>
              <mat-form-field class="full-width" appearance="fill">
                <mat-label>Last name</mat-label>
                <input
                  matInput
                  type="email"
                  formControlName="lastName"
                  [errorStateMatcher]="matcher"
                />
                <mat-error
                  *ngIf="
                    form.get('lastName')?.hasError('minlength') &&
                    !form.get('lastName')?.hasError('required')
                  "
                  >Min length is 2 symbols
                </mat-error>
                <mat-error *ngIf="form.get('lastName')?.hasError('required')">
                  Field is required
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td>
              <mat-form-field class="full-width" appearance="fill">
                <mat-label>Email</mat-label>
                <input
                  matInput
                  formControlName="email"
                  [errorStateMatcher]="matcher"
                />
                <mat-error
                  *ngIf="
                    form.get('email')?.hasError('email') &&
                    !form.get('email')?.hasError('required')
                  "
                >
                  Please enter a valid email address.
                </mat-error>
                <mat-error *ngIf="form.get('email')?.hasError('required')">
                  Field is required
                </mat-error>
              </mat-form-field>
            </td>
            <td>
              <mat-form-field class="full-width" appearance="fill">
                <mat-label>Phone</mat-label>
                <input
                  matInput
                  formControlName="phone"
                  [errorStateMatcher]="matcher"
                />
                <mat-error
                  *ngIf="
                    form.get('phone')?.hasError('pattern') &&
                    !form.get('phone')?.hasError('required')
                  "
                >
                  Correct phone format is +123456789
                </mat-error>
                <mat-error *ngIf="form.get('phone')?.hasError('required')">
                  Field is required
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
        </table>

        <button
          mat-raised-button
          style="
            margin-left: auto;
            display: block;
            background-color: #076be7;
            color: 'white';
          "
        >
          Add customer
        </button>
      </mat-card-content>
    </mat-card>
  </form>
</div>
